---
// interface Props {
// 	mapping: any;
// }
const gateway_placeholder = "@"+Astro.url.host;
var forward_to = "";
var gateway_address = "";
function handleSubmit(event:any) {
  event.preventDefault();
  const formData = new FormData(event.target);
  // Add your logic here to submit the mapping to the cache
  // For example, you can make an API call to add the mapping
  console.debug("handle submit",formData);
  // Reset the form fields
  forward_to = "";
  gateway_address = "";
}
---

<div class="add-mapping-card instructions">
    <p>Add a mapping</p>
    <hr />
    <form @submit={handleSubmit}>
      <label for="key" style="margin-right: 60px;">Forward to:</label>
      <input type="text" id="forward_to" value={forward_to} required />
      <br />
  
      <label for="value">Gateway Address:</label>
      <input type="text" id="gateway_address" value={gateway_address} placeholder={gateway_placeholder} required />
      <br />
      <button type="submit" style="float: right;">Add Mapping</button>
      <br/>

    </form>
</div>

<style>
    
    .add-mapping-card {
        width: 100%;
    }
    .add-mapping-card input{
        background-color: rgb(var(--accent-light));
        border: #23262d;;
    }
    .add-mapping-card button{
        /* make this button larger */
        font-size: 1.05rem;
    }
	.instructions {
		margin-bottom: 2rem;
		border: 1px solid rgba(var(--accent-light), 25%);
		background: linear-gradient(rgba(var(--accent-dark), 66%), rgba(var(--accent-dark), 33%));
		padding: 1.5rem;
		border-radius: 8px;
	}
	.instructions code {
		font-size: 0.8em;
		font-weight: bold;
		background: rgba(var(--accent-light), 12%);
		color: rgb(var(--accent-light));
		border-radius: 4px;
		padding: 0.3em 0.4em;
	}
	.instructions strong {
		color: rgb(var(--accent-light));
	}
	.link-card {
		list-style: none;
		display: flex;
		padding: 1px;
		background-color: #23262d;
		background-image: none;
		background-size: 400%;
		border-radius: 7px;
		background-position: 100%;
		transition: background-position 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
	}
	.link-card > a {
		width: 100%;
		text-decoration: none;
		line-height: 1.4;
		padding: calc(1.5rem - 1px);
		border-radius: 8px;
		color: white;
		background-color: #23262d;
		opacity: 0.8;
	}
	h2 {
		margin: 0;
		font-size: 1.25rem;
		transition: color 0.6s cubic-bezier(0.22, 1, 0.36, 1);
	}
	p {
		margin-top: 0.5rem;
		margin-bottom: 0;
	}
</style>
